{"version":3,"file":"pinia-plugin-persist-legacy.js","sources":["../../../node_modules/pinia-plugin-persist/dist/pinia-persist.es.js"],"sourcesContent":["const updateStorage = (strategy, store) => {\n  const storage = strategy.storage || sessionStorage;\n  const storeKey = strategy.key || store.$id;\n  if (strategy.paths) {\n    const partialState = strategy.paths.reduce((finalObj, key) => {\n      finalObj[key] = store.$state[key];\n      return finalObj;\n    }, {});\n    storage.setItem(storeKey, JSON.stringify(partialState));\n  } else {\n    storage.setItem(storeKey, JSON.stringify(store.$state));\n  }\n};\nvar index = ({ options, store }) => {\n  var _a, _b, _c, _d;\n  if ((_a = options.persist) == null ? void 0 : _a.enabled) {\n    const defaultStrat = [{\n      key: store.$id,\n      storage: sessionStorage\n    }];\n    const strategies = ((_c = (_b = options.persist) == null ? void 0 : _b.strategies) == null ? void 0 : _c.length) ? (_d = options.persist) == null ? void 0 : _d.strategies : defaultStrat;\n    strategies.forEach((strategy) => {\n      const storage = strategy.storage || sessionStorage;\n      const storeKey = strategy.key || store.$id;\n      const storageResult = storage.getItem(storeKey);\n      if (storageResult) {\n        store.$patch(JSON.parse(storageResult));\n        updateStorage(strategy, store);\n      }\n    });\n    store.$subscribe(() => {\n      strategies.forEach((strategy) => {\n        updateStorage(strategy, store);\n      });\n    });\n  }\n};\nexport { index as default, updateStorage };\n"],"names":["updateStorage","strategy","store","storage","sessionStorage","storeKey","key","$id","paths","partialState","reduce","finalObj","$state","setItem","JSON","stringify","options","_a","_b","_c","_d","persist","enabled","defaultStrat","strategies","length","forEach","storageResult","getItem","$patch","parse","$subscribe"],"mappings":"yEAAA,MAAMA,EAAgBA,CAACC,EAAUC,KAC/B,MAAMC,EAAUF,EAASE,SAAWC,eAC9BC,EAAWJ,EAASK,KAAOJ,EAAMK,IACvC,GAAIN,EAASO,MAAO,CAClB,MAAMC,EAAeR,EAASO,MAAME,QAAO,CAACC,EAAUL,KACpDK,EAASL,GAAOJ,EAAMU,OAAON,GACtBK,IACN,CAAE,GACLR,EAAQU,QAAQR,EAAUS,KAAKC,UAAUN,GAC7C,MACIN,EAAQU,QAAQR,EAAUS,KAAKC,UAAUb,EAAMU,QAChD,SAES,EAAGI,UAASd,YACtB,IAAIe,EAAIC,EAAIC,EAAIC,EAChB,GAA8B,OAAzBH,EAAKD,EAAQK,cAAmB,EAASJ,EAAGK,QAAS,CACxD,MAAMC,EAAe,CAAC,CACpBjB,IAAKJ,EAAMK,IACXJ,QAASC,iBAELoB,GAAgF,OAAjEL,EAA+B,OAAzBD,EAAKF,EAAQK,cAAmB,EAASH,EAAGM,iBAAsB,EAASL,EAAGM,QAAoC,OAAzBL,EAAKJ,EAAQK,cAAmB,EAASD,EAAGI,WAAaD,EAC7KC,EAAWE,SAASzB,IAClB,MAAME,EAAUF,EAASE,SAAWC,eAC9BC,EAAWJ,EAASK,KAAOJ,EAAMK,IACjCoB,EAAgBxB,EAAQyB,QAAQvB,GAClCsB,IACFzB,EAAM2B,OAAOf,KAAKgB,MAAMH,IACxB3B,EAAcC,EAAUC,GACzB,IAEHA,EAAM6B,YAAW,KACfP,EAAWE,SAASzB,IAClBD,EAAcC,EAAUC,EAAM,GAC9B,GAEL","x_google_ignoreList":[0]}