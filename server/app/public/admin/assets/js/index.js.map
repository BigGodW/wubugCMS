{"version":3,"mappings":"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","names":["locale","zhCn","name","props","default","data","methods","this","$router","push","path","item","query","_openBlock","_createElementBlock","_Fragment","_renderList","$props","index","key","title","_withCtx","_createBlock","_resolveDynamicComponent","meta","icon","_createElementVNode","_toDisplayString","_b","setCookie","tokenName","token","api$1","set","getCookie","Cookies","get","addLabelValue","arr","children","tree","pid","leval","tmp","forEach","id","treeById","source","findId","i","length","unshift","getImgUrlFromStr","str","srcReg","match","imgArr","src","filterHtml","endIndex","indexOf","substring","tempElement","document","createElement","innerHTML","filteredText","textContent","splitIndex","lastIndexOf","slice","remove","axios","defaults","headers","post","crossDomain","withCredentials","timeout","http","create","baseURL","interceptors","request","use","config","userStore","auth","error","console","log","Promise","reject","response","code","message","msg","ElMessage","type","success","logout","location","reload","resolve","warn","status","jsonp","url","time","Date","cbName","callback","script","setAttribute","obj","Object","keys","val","values","map","v","join","objToUrl","body","appendChild","window","res","removeChild","onerror","e","api","pre","BASE_API","VITE_APP_BASE_API","prd","API","_Base","version","static","params","method","__publicField","Base","Login","constructor","super","resovle","setTimeout","userId","userName","nickName","role","asyncRoutes","modules","defineStore","state","userInfo","menuList","actions","async","toLogin","router","dealRoute","localStorage","removeItem","getAccessRoutes","accessRoutes","filterRoutes","persist","enabled","strategies","paths","routes","route","_a","includes","hasPermission","component","replace","defineComponent","isCollapse","Boolean","activeIndex","watch","$route","to","from","created","useRoute","class","_ctx","collapse","onOpen","handleOpen","onClose","handleClose","_hoisted_1","viewBox","fill","xmlns","stroke","_cache","filter","_sfc_main","SideBar","NavBar","breadcrumbData","ref","list","matched","value","immediate","useRouter","mounted","changeCollapse","w","documentElement","clientWidth","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","isShow","redirect","import","style","_normalizeStyle","width","onClick","switchCollapse","Component","createRouter","history","createWebHashHistory","linkActiveClass","beforeEach","user","getUserInfo","getMenuList","addRoute","fullPath","installElementPlus","install","app","options","globalProperties","$message","entries","ElementPlusIconsVue","directive","el","binding","vnode","parentNode","createApp","App","store","createPinia","piniaPluginPersist","mount"],"sources":["../../../src/App.vue","../../../src/components/layout/components/Sidebar/side-bar-item.vue","../../../src/utils/tool.js","../../../src/utils/http.js","../../../src/utils/jsonp.js","../../../src/config/index.js","../../../src/api/Base.js","../../../src/api/Login.js","../../../src/stores/user.js","../../../src/components/layout/components/Sidebar/index.vue","../../../src/components/icons/IconBell.vue","../../../src/components/icons/IconLaunch.vue","../../../src/components/layout/components/navbar/index.vue","../../../src/components/layout/index.vue","../../../src/components/layout/components/breadcrumb/index.vue","../../../src/router/index.js","../../../src/plugins/element.js","../../../src/main.js"],"sourcesContent":["<template>\n  <el-config-provider :size=\"size\" :z-index=\"zIndex\" :locale=\"locale\">\n    <router-view></router-view>\n  </el-config-provider>\n</template>\n\n<script setup>\nimport { ElConfigProvider } from \"element-plus\";\nimport zhCn from \"element-plus/dist/locale/zh-cn.mjs\";\nimport \"dayjs/locale/zh-cn\";\nconst locale = zhCn;\nconst zIndex = 3000;\nconst size = \"\";\n</script>\n\n<style scoped>\nnav a.router-link-exact-active {\n  color: var(--color-text);\n}\n\nnav a.router-link-exact-active:hover {\n  background-color: transparent;\n}\n\nnav a {\n  display: inline-block;\n  padding: 0 1rem;\n  border-left: 1px solid var(--color-border);\n}\n\nnav a:first-of-type {\n  border: 0;\n}\n</style>\n","<template>\n  <!-- 无子目录 -->\n  <template v-for=\"(item, index) of data\" :key=\"item.path\">\n    <!-- 有子目录 -->\n\n    <el-sub-menu\n      v-if=\"item?.children?.length > 0 && item.meta.isShow\"\n      :index=\"item.path\"\n    >\n      <template #title>\n        <el-icon v-if=\"item?.meta?.icon\">\n          <component :is=\"item.meta.icon\"></component>\n        </el-icon>\n        <span>{{ item?.meta?.title }}</span>\n      </template>\n      <SidebarItem :data=\"item.children\"></SidebarItem>\n    </el-sub-menu>\n\n    <!-- 无子目录 -->\n    <el-menu-item v-else-if=\"item.meta.isShow\" :index=\"item.path\">\n      <el-icon v-if=\"item?.meta?.icon\">\n        <component :is=\"item.meta.icon\"></component>\n      </el-icon>\n      <template #title>{{ item?.meta?.title }}</template>\n    </el-menu-item>\n  </template>\n</template>\n\n<script>\nexport default {\n  name: \"SidebarItem\",\n  props: {\n    data: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {};\n  },\n  created() {},\n  methods: {\n    goto(item) {\n      // 跳转到指定路由\n      if (item?.children?.length > 0) {\n        return false;\n      } else {\n        this.$router.push({\n          path: item.path,\n          query: item.query,\n        });\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.ico-nav {\n  width: 40px;\n  height: 40px;\n  border-radius: 15px;\n  box-shadow: inset 0px 0px 5px #f2f2f2;\n  padding: 4px;\n  display: inline-block;\n  margin-right: 5px;\n  img {\n    width: 100%;\n  }\n}\n\n.el-sub-menu .el-menu-item {\n  margin-left: 10px;\n}\n\n.el-sub-menu.is-active {\n  :deep(.el-icon) {\n    color: #165dff;\n  }\n\n  :deep(.el-sub-menu__title) {\n    color: #165dff;\n  }\n\n  :deep(.el-sub-menu__icon-arrow) {\n    color: #165dff;\n  }\n}\n\n:deep(.is-active) {\n  color: #165dff;\n}\n</style>\n","import Cookies from \"js-cookie\";\n\nexport const setTitle = (title) => {\n  window.document.title = `${title}-禅悦管理系统` || \"禅悦管理系统\";\n};\n\nexport const setCookie = (tokenName = \"token\", token) => {\n  Cookies.set(tokenName, token);\n};\n\nexport const getCookie = (tokenName = \"token\") => {\n  return Cookies.get(tokenName);\n};\n\n//无限极分类 适配 element-ui组件\nexport let addLabelValue = (arr) => {\n  for (let item of arr) {\n    item[\"label\"] = item[\"name\"];\n    item[\"value\"] = item[\"id\"];\n    if (item.children) {\n      addLabelValue(item.children);\n    }\n  }\n  return arr;\n};\n\n// 无限极分类tree\nexport let tree = (arr, pid = 0, leval = 1) => {\n  let tmp = [];\n  arr.forEach((item, index) => {\n    if (item.pid == pid) {\n      item.leval = leval;\n      item.children = tree(arr, item.id, leval + 1);\n      tmp.push(item);\n    }\n  });\n  return tmp;\n};\n\n//返回id父级所有栏目\nexport let treeById = (id, source) => {\n  const arr = [];\n  let findId = (id, source) => {\n    for (let i = 0, item; i < source.length; i++) {\n      item = source[i];\n      if (item.id == id) {\n        arr.unshift(item.id);\n        if (item.pid != 0) {\n          findId(item.pid, source);\n        }\n      }\n    }\n  };\n  findId(id, source);\n  return arr;\n};\n\n// html过滤出图片\nexport let getImgUrlFromStr = (str) => {\n  let imgReg = /<img.*?(?:>|\\/>)/gi; //匹配出图片img标签\n  // eslint-disable-next-line no-useless-escape\n  let srcReg = /src=[\\'\\\"]?([^\\'\\\"]*)[\\'\\\"]?/i; //匹配出图片src属性\n  let arr = str.match(imgReg);\n  let imgArr = [];\n  if (arr) {\n    for (let i = 0; i < arr.length; i++) {\n      let src = arr[i].match(srcReg);\n      if (src[1]) {\n        imgArr.push(src[1]);\n      }\n    }\n  }\n  return imgArr;\n};\n\n// 过滤 html标签\nexport let filterHtml = (str) => {\n  // 查找第一个段落的结束位置\n  let endIndex = str.indexOf(\"</p>\");\n  // 如果找到第一个段落的结束位置\n  if (endIndex !== -1) {\n    // 将字符串截断到第一个段落的结束位置加上\"</p>\"的长度\n    str = str.substring(0, endIndex + 4);\n  }\n  // 创建一个临时元素，用于处理字符串中的HTML内容\n  let tempElement = document.createElement(\"div\");\n  tempElement.innerHTML = str;\n  // 获取处理后的文本内容，包括实体字符\n  let filteredText = tempElement.textContent;\n  // 如果文本内容超过255个字符\n  if (filteredText.length > 225) {\n    // 向前查找中文句号进行分割\n    let splitIndex = filteredText.lastIndexOf(\"。\", 255);\n    // 如果找到分割点，则将字符串分割成两个部分\n    if (splitIndex !== -1) {\n      filteredText = filteredText.slice(0, splitIndex + 1);\n    }\n  }\n  // 销毁临时元素，释放内存\n  tempElement.remove();\n  return filteredText;\n};\n\n// 过滤 body标签\nexport let filterBody = (str) => {\n  var result = /<body[^>]*>([\\s\\S]*)<\\/body>/.exec(str);\n  if (result && result.length === 2) return result[1];\n  return str;\n};\n","import axios from \"axios\";\nimport { jsonp } from \"./jsonp\";\nimport { getCookie } from \"./tool.js\";\nimport { userStore } from \"@/stores/user\";\n\n//设置axios为form-data\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n// axios.defaults.headers.get['Content-Type'] = 'application/x-www-form-urlencoded';\n// axios.defaults.transformRequest = [function (data) {\n//     let ret = ''\n//     for (let it in data) {\n//       ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\n//     }\n//     return ret\n// }]\n\naxios.defaults.headers.post[\"Content-Type\"] = \"application/json; charset=utf-8\";\naxios.defaults.crossDomain = true; //设置cross跨域 并设置访问权限\naxios.defaults.withCredentials = true; //允许跨域携带cookie信息\naxios.defaults.timeout = 10000; //请求超时\n// 创建axios实例\nlet http = axios.create({\n  baseURL: \"\", // api的base_url   import.meta.env.VITE_APP_BASE_API,\n});\n\n// request拦截器\nhttp.interceptors.request.use(\n  (config) => {\n    // 是否需要设置 token 请根据实际情况自行修改\n    const { token } = userStore();\n    token && (config.headers.auth = token);\n\n    //拦截放行\n    return config;\n  },\n  (error) => {\n    console.log(error);\n    Promise.reject(error || \"网络异常\");\n  }\n);\n\n// respone拦截器\nhttp.interceptors.response.use(\n  (response) => {\n    // const data = response.data;\n    const { code, data, message } = response;\n    // if (code === 200) {\n    //   return data;\n    // } else {\n    //   if (code === 401) {\n    //     //无权限\n    //     const userInfo = userStore();\n    //     userInfo.logout();\n    //     location.reload();\n    //   }\n    // }\n\n    if (data.code === 0) {\n      console.log(\"data->\", data);\n      if (data.msg.name == \"TokenExpiredError\") {\n        // eslint-disable-next-line no-undef\n        ElMessage({\n          message: \"登录失效，请重新登录\",\n          type: \"warning\",\n        });\n      } else {\n        // eslint-disable-next-line no-undef\n        ElMessage.success(data.msg);\n      }\n\n      const userInfo = userStore();\n      userInfo.logout();\n      location.reload();\n    }\n\n    //拦截放行\n    return Promise.resolve(data);\n  },\n  (error) => {\n    console.warn(error);\n    const { response } = error;\n    if (response && response.status) {\n      const { status, statusText } = response;\n      const codeMessage = {\n        400: \"请求错误\",\n        401: \"用户没有权限。\",\n        403: \"用户得到授权，但是访问是被禁止的。\",\n        404: \"发出的请求是不存在的记录\",\n        406: \"请求的格式不可得。\",\n        410: \"请求的资源被永久删除\",\n        422: \"验证错误\",\n        500: \"服务器发生错误\",\n        502: \"网关错误。\",\n        503: \"服务不可用，服务器暂时过载或维护。\",\n        504: \"网关超时。\",\n        505: \"http版本不支持该请求\",\n      };\n      const errorText = codeMessage[status] || statusText;\n      // showToast(errorText);\n    } else if (!response) {\n      // showToast(\"您的网络发生异常，无法连接服务器\");\n    }\n    return Promise.reject(error);\n  }\n);\n\nhttp.jsonp = jsonp;\nexport default http;\n","/**\n * @description 传入对象转换成url字符串\n * @param {*} param 参数对象\n * @returns 返回url字符串\n */\nexport const objToUrl = function (obj = {}) {\n  const key = Object.keys(obj);\n  const val = Object.values(obj);\n  return key.map((v, i) => v + \"=\" + val[i]).join(\"&\");\n};\n\n/**\n * @description jsonp 请求\n * @param {Object} url -请求地址\n * @param {Object} data - 请求参数\n * @returns Promise\n */\nexport const jsonp = function ({ url, data = {} }) {\n  let time = +new Date();\n  //解决针对cms请求处理，cms比较奇葩调用的是固定的cmsCallback\n  const cbName = data.callback ? data.callback : `light_${time}`;\n  //增加回调方法\n  data.callback = cbName;\n\n  // js加载不跨域\n  const script = document.createElement(\"script\");\n  script.setAttribute(\"src\", url + \"?\" + objToUrl(data));\n  document.body.appendChild(script);\n  return new Promise((resolve, reject) => {\n    window[cbName] = (res) => {\n      resolve(res);\n      if (script) document.body.removeChild(script);\n      delete window[cbName];\n    };\n    script.onerror = function (e) {\n      reject(e);\n    };\n  });\n};\n","let api = {\n  pre: {\n    BASE_API: import.meta.env.VITE_APP_BASE_API || \"\",\n  },\n  prd: {\n    BASE_API: import.meta.env.VITE_APP_BASE_API || \"\",\n  },\n};\n\nconst env = \"pre\";\n\nconsole.log(\"api[env]\", api[env]);\nexport default api[env];\n","import API from \"../config/index.js\";\nimport http from \"../utils/http.js\";\n\nexport default class Base {\n  static API = API.BASE_API;\n\n  version() {\n    return \"v.1.0\";\n  }\n\n  // 从服务器获取数据\n  static get(params = {}) {\n    return http({\n      url: `${Base.API}/api/get`,\n      method: \"GET\",\n      params: params,\n    });\n  }\n\n  // 向服务器新增数据\n  static post(data = {}) {\n    return http({\n      url: `${Base.API}/api/post`,\n      method: \"POST\",\n      data,\n    });\n  }\n  //完整更新服务器上的数据\n  static put(data = {}) {\n    return http({\n      url: `${Base.API}/api/put`,\n      method: \"PUT\",\n      data,\n    });\n  }\n  //部分更新服务器上的数据\n  static patch(data = {}) {\n    return http({\n      url: `${Base.API}/api/patch`,\n      method: \"PATCH\",\n      data,\n    });\n  }\n\n  //删除服务器上的数据\n  static delete() {\n    return http({\n      url: `${Base.API}/api/delete?id=1`,\n      method: \"Delete\",\n    });\n  }\n\n  //上传\n  // let formData = new FormData();\n  // formData.append('file', file);\n  // formData.append('fileName', file.name);\n\n  static upload = (data) => {\n    return http({\n      url: `${Base.API}/api/delete?id=1`,\n      method: \"post\",\n      headers: {\n        \"Content-type\": \"multipart/form-data\",\n      },\n      data: data,\n    });\n  };\n}\n","import http from \"../utils/http.js\";\nimport Base from \"./Base\";\nimport { asyncRoutes } from \"@/router/index.js\";\n\nimport API from \"../config/index.js\";\nexport default class Login extends Base {\n  constructor(props) {\n    super(props);\n  }\n\n  static toLogin(data) {\n    return http({\n      url: `${API.BASE_API}/api/admin/login`,\n      method: \"post\",\n      data: data,\n    });\n\n    // return new Promise((resovle, reject) => {\n    //   setTimeout(() => {\n    //     let res = {\n    //       code: 200,\n    //       data: {\n    //         token: \"asdfawerxxxa\",\n    //       },\n    //     };\n    //     resovle(res);\n    //   }, 300);\n    // });\n  }\n\n  static userInfo() {\n    return new Promise((resovle, reject) => {\n      setTimeout(() => {\n        let res = {\n          code: 200,\n          data: {\n            userId: \"123456\",\n            userName: \"mingkong\",\n            nickName: \"明空\",\n            role: \"admin\",\n          },\n        };\n        resovle(res);\n      }, 300);\n    });\n  }\n\n  static menuList() {\n    return new Promise((resovle, reject) => {\n      setTimeout(() => {\n        let res = asyncRoutes;\n        resovle({ code: 200, data: res });\n      }, 300);\n    });\n  }\n}\n","import { defineStore } from \"pinia\";\nimport Login from \"@/api/Login\";\n\nconst modules = import.meta.glob(\"@/views/*/*.vue\");\nconsole.log(\"modules--->\", modules);\nimport { setCookie, getCookie } from \"@/utils/tool.js\";\nexport const userStore = defineStore(\"user\", {\n  state: () => ({\n    token: getCookie(\"token\") || \"\",\n    userInfo: null,\n    menuList: [], //左侧菜单\n  }),\n  actions: {\n    async login(params) {\n      try {\n        const res = await Login.toLogin(params);\n        if (res.code == 200) {\n          this.token = res.data.token;\n          setCookie(\"token\", res.data.token);\n        }\n        return res;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async getUserInfo() {\n      try {\n        const res = await Login.userInfo();\n        if (res.code == 200) {\n          this.userInfo = res.data;\n          return res.data.role;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    async getMenuList() {\n      try {\n        const res = await Login.menuList();\n        if (res.code == 200) {\n          let router = dealRoute(res.data);\n          console.log(\"res---->\", router);\n          this.menuList = router;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    logout() {\n      this.userInfo = null;\n      this.token = \"\";\n      localStorage.removeItem(\"token\");\n    },\n\n    getAccessRoutes(role) {\n      let asyncRoutes = this.menuList;\n      const accessRoutes = filterRoutes(asyncRoutes, role);\n      //将path路径改为  绝对路径\n      //const fullPathRoutes = getFullPathRoutes(accessRoutes, \"\");\n      //将redirect改为children的第一个\n      // updateRoutesRedirect(fullPathRoutes);\n      console.log(\"fullPathRoutes-->\", accessRoutes);\n      this.menuList = accessRoutes;\n      return accessRoutes;\n    },\n  },\n  persist: {\n    enabled: true, //开启\n    strategies: [\n      {\n        key: \"user\",\n        paths: [\"token\"], //指定字段\n      },\n    ],\n  },\n});\n\nfunction filterRoutes(routes, role) {\n  const res = [];\n\n  routes.forEach((route) => {\n    //解构出来，防止修改源\n    const tmp = { ...route };\n    if (tmp?.children?.length > 0) {\n      tmp.children = filterRoutes(tmp.children, role);\n    }\n    //判断是否有权限，有权限则push\n    if (hasPermission(tmp, role)) {\n      res.push(tmp);\n    }\n  });\n\n  return res;\n}\n\nfunction hasPermission(route, role) {\n  if (route?.meta?.role) {\n    return route.meta.role.includes(role);\n  } else {\n    return true;\n  }\n}\n\n//生成完整路径 讲path路径改成绝对路径\nfunction getFullPathRoutes(routes, parentPath) {\n  const res = [];\n\n  routes.forEach((route) => {\n    const temp = { ...route };\n    temp.path = parentPath + temp.path;\n    res.push(temp);\n\n    if (temp?.children?.length > 0) {\n      temp.children = getFullPathRoutes(\n        temp.children,\n        temp.path + (temp.path === \"/\" ? \"\" : \"/\")\n      );\n    }\n  });\n\n  return res;\n}\n\n//讲完整路由重定向改为children第一项\nfunction updateRoutesRedirect(routes) {\n  routes.forEach((route) => {\n    if (route.children) {\n      route.redirect = route.children[0].path;\n      updateRoutesRedirect(route.children);\n    }\n  });\n}\n\n//更具接口返回的路由，动态加载组件\nfunction dealRoute(routes) {\n  let res = []; //递归的适合函数内部形成作用域，不影响这个\n  routes.forEach((item) => {\n    if (item.component) {\n      console.log(\"oooo----0000\", item.component);\n      item.component = item.component.replace(\"@/\", \"/src/\");\n      item.component = modules[`${item.component}`];\n    }\n    console.log(\"item\", item);\n    res.push(item);\n    if (item.children) {\n      dealRoute(item.children);\n    }\n  });\n\n  return res;\n}\n","<template>\n  <el-menu\n    active-text-color=\"\"\n    background-color=\"\"\n    class=\"el-menu-vertical-demo\"\n    text-color=\"\"\n    :default-active=\"activeIndex\"\n    :router=\"true\"\n    :unique-opened=\"true\"\n    :collapse-transition=\"true\"\n    :collapse=\"isCollapse\"\n    popper-effect=\"light\"\n    @open=\"handleOpen\"\n    @close=\"handleClose\"\n  >\n    <SidebarItem :data=\"menuList\"></SidebarItem>\n  </el-menu>\n</template>\n\n<script name=\"SideBar\">\nimport { defineComponent } from \"vue\";\nimport SidebarItem from \"./side-bar-item.vue\";\nimport { useRoute } from \"vue-router\";\nimport { userStore } from \"@/stores/user\";\nexport default defineComponent({\n  props: {\n    isCollapse: Boolean,\n  },\n  components: { SidebarItem },\n  data() {\n    return {\n      activeIndex: \"\",\n      menuList: [],\n    };\n  },\n  watch: {\n    $route(to, from) {\n      this.activeIndex = \"/\" + to.path.split(\"/\")[1] || to.path;\n    },\n  },\n  created() {\n    const route = useRoute();\n    const { menuList } = userStore();\n    this.menuList = menuList;\n    this.activeIndex = \"/\" + route.path.split(\"/\")[1] || route.path;\n  },\n  methods: {\n    handleOpen(key, keyPath) {\n      console.log(key, keyPath);\n    },\n    handleClose(key, keyPath) {\n      console.log(key, keyPath);\n    },\n  },\n});\n</script>\n\n<style scoped>\n.el-menu-vertical-demo:not(.el-menu--collapse) {\n  width: 200px;\n  min-height: 400px;\n}\n\n.el-menu {\n  border-right: 0px;\n}\n</style>\n","<template>\n  <svg\n    viewBox=\"0 0 48 48\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    stroke=\"currentColor\"\n    class=\"arco-icon arco-icon-notification\"\n    stroke-width=\"4\"\n    stroke-linecap=\"butt\"\n    stroke-linejoin=\"miter\"\n    data-v-0ee42d02=\"\"\n  >\n    <path\n      d=\"M24 9c7.18 0 13 5.82 13 13v13H11V22c0-7.18 5.82-13 13-13Zm0 0V4M6 35h36m-25 7h14\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <svg\n    viewBox=\"0 0 48 48\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    class=\"arco-icon arco-icon-launch\"\n    stroke-width=\"4\"\n    stroke-linecap=\"butt\"\n    stroke-linejoin=\"arcs\"\n    filter=\"\"\n    data-v-249840b0=\"\"\n    style=\"font-size: 32px\"\n  >\n    <path\n      d=\"M41 26v14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h14M19.822 28.178 39.899 8.1M41 20V7H28\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <div justify=\"end\" class=\"navbar-cont\" :gutter=\"20\">\n    <!-- 搜索 -->\n    <!-- <el-button icon=\"Search\" circle /> -->\n\n    <el-tooltip\n      class=\"mr-10\"\n      effect=\"dark\"\n      content=\"站点\"\n      placement=\"top-start\"\n    >\n      <a href=\"/\" target=\"_blank\">\n        <el-button :icon=\"IconLaunch\" circle />\n      </a>\n    </el-tooltip>\n\n    <!-- 语言 -->\n    <!-- <el-tooltip\n      class=\"mr-10\"\n      effect=\"dark\"\n      content=\"语言\"\n      placement=\"top-start\"\n    >\n      <el-dropdown trigger=\"click\">\n        <el-button :icon=\"IconLanguage\" circle />\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item>中文</el-dropdown-item>\n            <el-dropdown-item>Englist</el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n    </el-tooltip> -->\n\n    <!-- <el-tooltip\n      class=\"box-item\"\n      effect=\"dark\"\n      content=\"点击切换为亮色模式\"\n      placement=\"top-start\"\n    >\n      <el-button :icon=\"IconSun\" circle />\n      <el-button :icon=\"IconMoon\" circle />\n    </el-tooltip> -->\n\n    <el-tooltip\n      class=\"box-item\"\n      effect=\"dark\"\n      content=\"消息通知\"\n      placement=\"top-start\"\n    >\n      <el-badge is-dot class=\"bell\">\n        <el-button :icon=\"IconBell\" circle />\n      </el-badge>\n    </el-tooltip>\n\n    <!-- <el-tooltip\n      class=\"box-item\"\n      effect=\"dark\"\n      content=\"全屏\"\n      placement=\"top-start\"\n    >\n      <el-badge class=\"bell\">\n        <el-button :icon=\"IconFullscreen\" circle />\n      </el-badge>\n      <template #icon>\n        <IconFullscreen />\n      </template>\n    </el-tooltip> -->\n\n    <el-tooltip\n      class=\"mr-10\"\n      effect=\"dark\"\n      content=\"管理员\"\n      placement=\"top-start\"\n    >\n      <el-dropdown trigger=\"click\">\n        <el-button icon=\"Avatar\" circle />\n        <template #dropdown>\n          <el-dropdown-menu>\n            <el-dropdown-item>用户中心</el-dropdown-item>\n            <el-dropdown-item @click=\"logout\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </template>\n      </el-dropdown>\n    </el-tooltip>\n  </div>\n</template>\n\n<script setup name=\"NavBar\">\nimport IconLanguage from \"../../../icons/IconLanguage.vue\";\nimport IconSun from \"../../../icons/IconSun.vue\";\nimport IconMoon from \"../../../icons/IconMoon.vue\";\nimport IconBell from \"../../../icons/IconBell.vue\";\nimport IconFullscreen from \"../../../icons/IconFullscreen.vue\";\nimport IconLaunch from \"../../../icons/IconLaunch.vue\";\nimport { ref, computed } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { userStore } from \"@/stores/user\";\nconst logout = () => {\n  const user = userStore();\n  user.logout();\n  location.reload();\n};\n</script>\n\n<style scoped>\n:deep(.el-badge__content.is-fixed.is-dot) {\n  top: 5px;\n  right: 10px;\n}\n.navbar-cont {\n  padding: 8px 20px;\n  display: flex;\n  justify-content: end;\n  gap: 10px;\n}\n</style>\n","<template>\n  <div class=\"app-wrapper\">\n    <!-- 左侧菜单 -->\n    <el-scrollbar\n      class=\"sidebar\"\n      :style=\"{ width: isCollapse ? '65px' : '200px' }\"\n    >\n      <Logo :style=\"{ width: isCollapse ? '65px' : '200px' }\" />\n      <SideBar :isCollapse=\"isCollapse\" />\n    </el-scrollbar>\n\n    <!-- 右侧内容 -->\n    <div class=\"main-container\">\n      <!-- 顶部 -->\n      <div class=\"header\">\n        <div class=\"navbar row justify-between align-c\">\n          <div class=\"row align-c\">\n            <el-icon class=\"ico-collapse\" @click=\"switchCollapse\">\n              <Expand v-if=\"isCollapse == true\" />\n              <Fold v-else />\n            </el-icon>\n            <BreadCrumb />\n          </div>\n          <NavBar />\n        </div>\n\n        <!-- <div class=\"tags-view\">\n          <TagView />\n        </div> -->\n      </div>\n      <!-- 内容区域 -->\n      <div class=\"app-main\">\n        <article class=\"container\">\n          <router-view v-slot=\"{ Component, route }\">\n            <!-- <transition :name=\"route.meta.transition\"> -->\n            <!-- <keep-alive :include=\"cachedViews\"> -->\n            <component :is=\"Component\" />\n            <!-- </keep-alive> -->\n            <!-- </transition> -->\n          </router-view>\n        </article>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script name=\"LayOut\">\nimport { defineComponent } from \"vue\";\nimport SideBar from \"./components/sidebar/index.vue\";\nimport NavBar from \"./components/navbar/index.vue\";\nimport TagView from \"./components/tagsview/index.vue\";\nimport BreadCrumb from \"./components/breadcrumb/index.vue\";\nimport Logo from \"./components/logo/index.vue\";\n\n// 监听当前路由\nexport default defineComponent({\n  components: {\n    SideBar,\n    NavBar,\n    // TagView,\n    BreadCrumb,\n    Logo,\n  },\n  data() {\n    return {\n      isCollapse: false,\n    };\n  },\n  watch: {\n    $route(to, from) {\n      this.activeIndex = to.path;\n    },\n  },\n  created() {\n    window.addEventListener(\"resize\", this.changeCollapse);\n  },\n  mounted() {\n    this.changeCollapse();\n  },\n  methods: {\n    changeCollapse() {\n      let w = document.documentElement.clientWidth;\n      if (w <= 640) {\n        this.isCollapse = true;\n      } else {\n        this.isCollapse = false;\n      }\n    },\n    switchCollapse(key, keyPath) {\n      console.log(key, keyPath);\n      this.isCollapse = !this.isCollapse;\n    },\n    handleClose(key, keyPath) {\n      console.log(key, keyPath);\n    },\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n.app-wrapper {\n  display: flex;\n  width: 100%;\n  height: 100%;\n\n  .sidebar {\n    height: 100vh;\n    border-right: 1px solid #f9f5f5;\n    transition: all 0.5s;\n  }\n\n  .sidebar-container {\n    height: 100%;\n    background-color: var(--vt-c-white);\n    width: 200px !important;\n    // menu未收起时样式\n    &-menu:not(.el-menu--collapse) {\n      width: 200px;\n    }\n    .el-menu {\n      border: none;\n    }\n  }\n\n  .main-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    overflow: hidden;\n\n    .header {\n      .navbar {\n        background-color: var(--vt-c-white);\n        border-bottom: 1px solid var(--color-border);\n\n        .ico-collapse {\n          width: 42px;\n          height: 42px;\n          cursor: pointer;\n          font-size: 16px;\n          color: #1890ff;\n        }\n      }\n\n      .tags-view {\n        height: 34px;\n        background: #12efff;\n      }\n    }\n\n    .app-main {\n      height: calc(100vh - 51px);\n      padding: 10px;\n      background-color: #f2f3f5;\n      overflow: auto;\n      .container {\n        background-color: #fff;\n        border-radius: 6px;\n        padding: 10px;\n        min-height: calc(100vh - 71px);\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <el-breadcrumb class=\"breadcrumb\" separator=\"/\">\n    <transition-group name=\"breadcrumb\">\n      <el-breadcrumb-item\n        v-for=\"(item, index) in breadcrumbData\"\n        :key=\"item.path\"\n      >\n        <!-- 不可点击项 -->\n        <span v-if=\"index === breadcrumbData.length - 1\" class=\"no-redirect\">{{\n          item.meta.title\n        }}</span>\n        <!-- 可点击项 -->\n        <a v-else class=\"redirect\" @click.prevent=\"onLinkClick(item)\">{{\n          item.meta.title\n        }}</a>\n      </el-breadcrumb-item>\n    </transition-group>\n  </el-breadcrumb>\n</template>\n\n<script setup name=\"BreadCrumb\">\nimport { ref, watch } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\n\nconst route = useRoute();\n// 生成数组数据\nconst breadcrumbData = ref([]);\nconst getBreadcrumbData = () => {\n  const list = route.matched.filter((item) => item.name !== \"index\");\n  console.log(\"list--->\", list);\n  breadcrumbData.value = route.matched.filter(\n    (item) => item.meta && item.meta.title\n  );\n};\n// 监听路由变化时触发\nwatch(\n  route,\n  () => {\n    getBreadcrumbData();\n  },\n  {\n    immediate: true,\n  }\n);\n\n// 处理点击事件\nconst router = useRouter();\nconst onLinkClick = (item) => {\n  console.log(item);\n  router.push(item.path);\n};\n</script>\n\n<style lang=\"less\" scoped>\n// .breadcrumb-enter-active,\n// .breadcrumb-leave-active {\n//   transition: all 0.5s;\n// }\n\n// .breadcrumb-enter-from,\n// .breadcrumb-leave-active {\n//   opacity: 0;\n//   transform: translateX(20px);\n// }\n\n.breadcrumb-leave-active {\n  position: absolute;\n}\n.breadcrumb {\n  display: inline-block;\n  font-size: 14px;\n  line-height: 50px;\n  margin-left: 8px;\n\n  .no-redirect {\n    cursor: text;\n  }\n\n  .redirect {\n    font-weight: bolder;\n  }\n}\n</style>\n","import { createRouter, createWebHashHistory } from \"vue-router\";\nimport Layout from \"@/components/layout/index.vue\";\n\nexport const constantRoutes = [\n  {\n    path: \"/login\",\n    name: \"login\",\n    component: () => import(\"@/views/login/index.vue\"),\n    meta: {\n      title: \"登录\",\n    },\n  },\n  {\n    path: \"/\",\n    name: \"Layout\",\n    component: Layout,\n    redirect: \"/home\",\n    children: [],\n  },\n  {\n    path: \"/:pathMatch(.*)*\",\n    name: \"NotFound\",\n    component: () => import(\"@/views/404.vue\"),\n    meta: {\n      title: \"404\",\n    },\n  },\n];\n\n// 看作是异步获取路由 通过路由拦截来动态吧这块追加进去\nexport const asyncRoutes = [\n  {\n    path: \"/home\",\n    name: \"home-info\",\n    component: \"@/views/home/info.vue\",\n    meta: {\n      title: \"网站信息\",\n      icon: \"DataLine\",\n      isShow: true,\n      role: [\"admin\"],\n    },\n  },\n  {\n    path: \"/sys\",\n    name: \"sys\",\n    meta: {\n      title: \"系统管理\",\n      icon: \"Setting\",\n      isShow: true,\n      role: [\"admin\"],\n    },\n    redirect: \"/sys/index\",\n    children: [\n      {\n        path: \"/sys/index\",\n        name: \"sys-index\",\n        component: \"@/views/home/sys.vue\",\n        meta: {\n          title: \"系统设置\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n    ],\n  },\n\n  {\n    path: \"/content\",\n    name: \"content\",\n    meta: {\n      title: \"内容管理\",\n      isShow: true,\n      icon: \"Grid\",\n      role: [\"admin\"],\n    },\n    redirect: \"/category\",\n    children: [\n      {\n        path: \"/category\",\n        name: \"category-index\",\n        component: \"@/views/category/index.vue\",\n        meta: {\n          title: \"栏目管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/category/add\",\n        name: \"category-add\",\n        component: \"@/views/category/add.vue\",\n        meta: {\n          title: \"栏目管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/category/edit/:id\",\n        name: \"category-edit\",\n        component: \"@/views/category/edit.vue\",\n        meta: {\n          title: \"页面管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/article\",\n        name: \"article-index\",\n        component: \"@/views/article/index.vue\",\n        meta: {\n          title: \"文章管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n\n      {\n        path: \"/article/add\",\n        name: \"article-add\",\n        component: \"@/views/article/add.vue\",\n        meta: {\n          title: \"文章管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/article/edit/:id\",\n        name: \"article-edit\",\n        component: \"@/views/article/edit.vue\",\n        meta: {\n          title: \"文章管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/page\",\n        name: \"page-index\",\n        component: \"@/views/page/index.vue\",\n        meta: {\n          title: \"页面管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n\n      {\n        path: \"/page/add\",\n        name: \"page-add\",\n        component: \"@/views/page/add.vue\",\n        meta: {\n          title: \"页面管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/page/edit/:id\",\n        name: \"page-edit\",\n        component: \"@/views/page/edit.vue\",\n        meta: {\n          title: \"页面管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n\n      {\n        path: \"/tag\",\n        name: \"tag-index\",\n        component: \"@/views/tag/index.vue\",\n        meta: {\n          title: \"标签管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/tag/add\",\n        name: \"tag-add\",\n        component: \"@/views/tag/add.vue\",\n        meta: {\n          title: \"标签管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/tag/edit/:id\",\n        name: \"tag-edit\",\n        component: \"@/views/tag/edit.vue\",\n        meta: {\n          title: \"标签管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/frag\",\n        name: \"frag-index\",\n        component: \"@/views/frag/index.vue\",\n        meta: {\n          title: \"碎片管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/frag/add\",\n        name: \"frag-add\",\n        component: \"@/views/frag/add.vue\",\n        meta: {\n          title: \"碎片管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/frag/edit/:id\",\n        name: \"frag-edit\",\n        component: \"@/views/frag/edit.vue\",\n        meta: {\n          title: \"碎片管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n    ],\n  },\n\n  {\n    path: \"/extend\",\n    name: \"extend\",\n    meta: {\n      title: \"功能管理\",\n      icon: \"Operation\",\n      isShow: true,\n      role: [\"admin\"],\n    },\n    children: [\n      {\n        path: \"/model\",\n        name: \"model-index\",\n        component: \"@/views/model/index.vue\",\n        meta: {\n          title: \"模型管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/model/add\",\n        name: \"model-add\",\n        component: \"@/views/model/add.vue\",\n        meta: {\n          title: \"模型管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/model/edit/:id\",\n        name: \"model-edit\",\n        component: \"@/views/model/edit.vue\",\n        meta: {\n          title: \"模型管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/field\",\n        name: \"field-index\",\n        component: \"@/views/field/index.vue\",\n        meta: {\n          title: \"字段管理\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/field/add\",\n        name: \"field-add\",\n        component: \"@/views/field/add.vue\",\n        meta: {\n          title: \"字段管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/field/edit\",\n        name: \"field-edit\",\n        component: \"@/views/field/edit.vue\",\n        meta: {\n          title: \"字段管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n\n      {\n        path: \"/friendlink\",\n        name: \"friendlink-index\",\n        component: \"@/views/friendlink/index.vue\",\n        meta: {\n          title: \"友情链接\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/friendlink/add\",\n        name: \"friendlink-add\",\n        component: \"@/views/friendlink/add.vue\",\n        meta: {\n          title: \"友情链接-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/friendlink/edit/:id\",\n        name: \"friendlink-edit\",\n        component: \"@/views/friendlink/edit.vue\",\n        meta: {\n          title: \"友情链接-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/ad\",\n        name: \"ad-index\",\n        component: \"@/views/ad/index.vue\",\n        meta: {\n          title: \"广告管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/ad/add\",\n        name: \"ad-add\",\n        component: \"@/views/ad/add.vue\",\n        meta: {\n          title: \"广告管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/ad/edit/:id\",\n        name: \"ad-edit\",\n        component: \"@/views/ad/edit.vue\",\n        meta: {\n          title: \"广告管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n\n      {\n        path: \"/message\",\n        name: \"message-index\",\n        component: \"@/views/message/index.vue\",\n        meta: {\n          title: \"消息管理\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/message/add\",\n        name: \"message-add\",\n        component: \"@/views/message/add.vue\",\n        meta: {\n          title: \"消息管理-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/message/edit/:id\",\n        name: \"message-edit\",\n        component: \"@/views/message/edit.vue\",\n        meta: {\n          title: \"消息管理-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n    ],\n  },\n\n  {\n    path: \"/manage\",\n    name: \"manage\",\n    meta: {\n      title: \"管理员\",\n      isShow: true,\n      icon: \"CreditCard\",\n      role: [\"admin\"],\n    },\n    redirect: \"/admin\",\n    children: [\n      {\n        path: \"/admin\",\n        name: \"admin-index\",\n        component: \"@/views/admin/index.vue\",\n        meta: {\n          title: \"管理员列表\",\n          isShow: true,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/admin/add\",\n        name: \"admin-add\",\n        component: \"@/views/admin/add.vue\",\n        meta: {\n          title: \"管理员列表-新增\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n      {\n        path: \"/admin/edit/:id\",\n        name: \"admin-edit\",\n        component: \"@/views/admin/edit.vue\",\n        meta: {\n          title: \"管理员列表-更新\",\n          isShow: false,\n          role: [\"admin\"],\n        },\n      },\n    ],\n  },\n];\n\n//导出最终路由\nexport const routes = constantRoutes;\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  linkActiveClass: \"active\",\n  routes,\n});\n\n/**\n * 路由拦截\n * 1.用户登录之后，通过pinia在存储用户角色和token\n * 2.通过路由和角色过滤出对应角色的路由，然后动态添加到路由上面\n * router.beforeEach(async (to, from, next)\n */\n\nimport { userStore } from \"@/stores/user\";\nrouter.beforeEach(async (to, from) => {\n  console.log(\"to-->\", to.path);\n  const user = userStore();\n  if (user.token) {\n    //已登录\n    if (to.path === \"/login\") {\n      //已登录直接进入首页\n      return { path: \"/\" };\n    } else {\n      //校验token是否正确或者过期\n      if (user.userInfo) {\n        //刷新页面后，这个就没有了，然后动态添加路由，刷新重定向路由\n        return true;\n      } else {\n        //然后动态添加路由，刷新重定向路由\n        const role = await user.getUserInfo();\n        //根据获取菜单\n        await user.getMenuList();\n        //根据用户角色role，和菜单生成路由\n        const accessRoutes = user.getAccessRoutes(role); //添加路由\n        accessRoutes.forEach((route) => {\n          router.addRoute(\"Layout\", route);\n        });\n        //触发重定向\n        return to.fullPath;\n      }\n    }\n  } else {\n    //没登录\n    if (to.path === \"/login\") {\n      return true; //放行\n    } else {\n      return { path: \"/login\", query: { redirect: to.fullPath } };\n    }\n  }\n});\nexport default router;\n","import { ElMessage } from \"element-plus\";\nimport * as ElementPlusIconsVue from \"@element-plus/icons-vue\";\nimport { userStore } from \"@/stores/user.js\";\nexport default {\n  install: (app, options) => {\n    console.log(\"萨埵第一个插件\");\n    app.config.globalProperties.$message = ElMessage;\n    //注册所有图标\n    for (const [key, component] of Object.entries(ElementPlusIconsVue)) {\n      app.component(key, component);\n    }\n\n    //定义指令\n    app.directive(\"permission\", {\n      mounted(el, binding, vnode) {\n        // 获取用户角色\n        const {\n          userInfo: { role },\n        } = userStore();\n        // 获取指令的参数，即需要的权限\n        const permission = binding.value;\n        // 判断用户是否拥有该权限\n        if (role !== permission) {\n          // 如果用户没有该权限，从 DOM 中移除该元素\n          el.parentNode.removeChild(el);\n        }\n      },\n    });\n\n    // 定义组件\n    // app.component('my-banner', MyBanner);\n    //定义插件\n    //app.directive(\"font-size\", (el, binding, vnode) => {})\n    // 提供全局是方法\n    // const clickMe = () => {\n    //     console.log(\"==========clickMe=========\")\n    // }\n    // app.provide('clickMe', clickMe);\n\n    // 使用 import {inject} from \"vue\";\n\n    // export default {\n    //     name: \"MyBanner\",\n    //     mounted() {\n    //         const clickMe = inject('clickMe');\n    //         clickMe();\n    //     }\n    // }\n  },\n};\n","import { createApp } from \"vue\";\nimport { createPinia } from \"pinia\";\nimport piniaPluginPersist from \"pinia-plugin-persist\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\n//加载element-ui框架\nimport installElementPlus from \"@/plugins/element\";\nimport \"./assets/main.css\";\n//轻量原子类样式库\nimport \"saduocss/src/all.css\";\nconst app = createApp(App);\n// store持久化，缓存到session中\nconst store = createPinia();\nstore.use(piniaPluginPersist);\napp.use(store);\napp.use(router);\napp.use(installElementPlus);\napp.mount(\"#app\");\n"],"file":"assets/js/index.js"}