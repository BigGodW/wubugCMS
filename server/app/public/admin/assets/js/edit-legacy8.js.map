{"version":3,"file":"edit-legacy8.js","sources":["../../../src/views/message/edit.vue"],"sourcesContent":["<template>\n  <div class=\"mr-10 ml-10 mb-20\">\n    <el-form ref=\"params\" :model=\"params\" label-width=\"84px\" class=\"mt-20\">\n      <el-form-item\n        label=\"留言标题\"\n        :rules=\"[\n          {\n            required: true,\n            message: '请输入标题',\n            trigger: 'blur',\n          },\n        ]\"\n        prop=\"name\"\n      >\n        <el-input v-model=\"params.name\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"手机号\">\n        <el-input v-model=\"params.tel\"></el-input>\n      </el-form-item>\n\n      <el-form-item label=\"微信\">\n        <el-input v-model=\"params.wx\"></el-input>\n      </el-form-item>\n\n      <el-form-item\n        label=\"留言内容\"\n        prop=\"content\"\n        :rules=\"[\n          {\n            required: true,\n            message: '请输入内容',\n            trigger: 'blur',\n          },\n        ]\"\n      >\n        <el-input\n          type=\"textarea\"\n          :rows=\"3\"\n          placeholder=\"请输入内容\"\n          v-model=\"params.content\"\n        >\n        </el-input>\n      </el-form-item>\n\n      <el-form-item label=\"发布时间\">\n        <el-date-picker\n          v-model=\"params.createdAt\"\n          type=\"datetime\"\n          placeholder=\"选择日期时间\"\n        >\n        </el-date-picker>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submit('params')\">保存</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { update, detail } from \"@/api/message.js\";\n\nexport default {\n  name: \"message-edit\",\n\n  data: () => {\n    return {\n      params: {\n        id: 0,\n        name: \"\",\n        tel: \"\",\n        wx: \"\",\n        content: \"\",\n        createdAt: new Date(),\n      },\n\n      paramsRules: {\n        //校验规则\n        name: [\n          { required: true, message: \"请输入栏目名称\", trigger: \"blur\" },\n          {\n            min: 2,\n            max: 50,\n            message: \"名称长度在 2 到 50 个字符之间\",\n            trigger: \"blur\",\n          },\n        ],\n      },\n    };\n  },\n  computed: {},\n  mounted() {},\n  async created() {\n    this.params.id = this.$route.params.id;\n    await this.detail();\n  },\n  methods: {\n    // 文章详情\n    async detail() {\n      try {\n        let res = await detail(this.params.id);\n        if (res.code === 200) {\n          this.params = res.data;\n          this.params.createdAt = new Date(this.params.createdAt);\n        }\n      } catch (error) {\n        console.error(error);\n      }\n    },\n\n    handleAttr(e) {\n      console.log(\"e-->\", e);\n    },\n\n    handleSubCid(e) {\n      console.log(\"e-->\", e);\n    },\n\n    //更新\n    async update() {\n      try {\n        let res = await update(this.params);\n        if (res.code) {\n          this.$message({\n            message: \"更新成功^_^\",\n            type: \"success\",\n          });\n          this.$router.go(-1);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n\n    submit(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.update();\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n  },\n};\n</script>\n<style></style>\n"],"names":["_hoisted_1","class","name","data","params","tel","createdAt","Date","max","trigger","created","this","id","$route","detail","methods","res","code","console","error","log","e","handleSubCid","update","$message","message","type","$router","go","submit","formName","$refs","validate","valid","_openBlock","_createElementBlock","ref","model","_ctx","label","rules","prop","modelValue","_cache","$event","wx","rows","placeholder","content","onClick","$options"],"mappings":"0wBAgEA,MA/DOA,EAAA,CAAAC,MAAA,mCA+DP,CACEC,KAAA,eAEAC,KAAAA,KACE,CACEC,OAAA,MAEEF,KAAA,GACAG,IAAA,oBAGAC,UAAA,IAAAC,wEAOE,OAEEC,IAAA,gCAEAC,QAAA,oCAQV,aAAAC,GACEC,KAAAP,OAAAQ,GAAAD,KAAAE,OAAAT,OAAAQ,SACAD,KAAAG,UAEFC,QAAA,gBAGI,IACE,IAAAC,QAAAF,EAAAH,KAAAP,OAAAQ,IACA,MAAAI,EAAAC,OACEN,KAAAP,OAAAY,EAAAb,qEAIFe,QAAAC,MAAAA,EACF,iBAIAD,QAAAE,IAAA,UAAAC,IAGFC,YAAAA,CAAAD,GACEH,QAAAE,IAAA,UAAAC,mBAKA,WACEE,EAAAZ,KAAAP,gBAEEO,KAAAa,SAAA,CACEC,QAAA,UACAC,KAAA,YAEFf,KAAAgB,QAAAC,IAAA,aAGFV,QAAAE,IAAAD,EACF,GAGFU,MAAAA,CAAAC,GACEnB,KAAAoB,MAAAD,GAAAE,UAAAC,IACE,IAAAA,uDAKA,kEA9IN,OAAAC,IAAAC,EAAA,MAAAnC,EAAA,MACWoC,IAAA,SAAcC,MAAAC,EAAAlC,OAAe,cAAA,OAAmBH,MAAA,+BAErDsC,MAAA,OACCC,MAAA,+CAODC,KAAA,8BAEmBC,WAAAJ,EAAAlC,OAAAF,KAAA,sBAAAyC,EAAA,KAAAA,EAAA,GAAAC,GAAAN,EAAAlC,OAAAF,KAAA0C,4EAIAF,WAAAJ,EAAAlC,OAAAC,IAAA,sBAAAsC,EAAA,KAAAA,EAAA,GAAAC,GAAAN,EAAAlC,OAAAC,IAAAuC,2EAIAF,WAAAJ,EAAAlC,OAAAyC,GAAA,sBAAAF,EAAA,KAAAA,EAAA,GAAAC,GAAAN,EAAAlC,OAAAyC,GAAAD,yCAInBL,MAAA,OACAE,KAAA,UACCD,MAAA,sEASCd,KAAA,WACCoB,KAAA,EACDC,YAAA,QACSL,WAAAJ,EAAAlC,OAAA4C,QAAA,sBAAAL,EAAA,KAAAA,EAAA,GAAAC,GAAAN,EAAAlC,OAAA4C,QAAAJ,6EAOAF,WAAAJ,EAAAlC,OAAAE,UAAA,sBAAAqC,EAAA,KAAAA,EAAA,GAAAC,GAAAN,EAAAlC,OAAAE,UAAAsC,GACTlB,KAAA,WACAqB,YAAA,yEAMSrB,KAAA,UAAgBuB,QAAAN,EAAA,KAAAA,EAAA,GAAAC,GAAAM,EAAArB,OAAA"}