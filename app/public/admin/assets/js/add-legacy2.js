System.register(["./element-plus-legacy.js","./@vue-legacy.js","./vue-router-legacy.js","./sys_config-legacy.js","./category-legacy.js","./index-legacy.js","./model-legacy.js","./pinyin-pro-legacy.js","./lodash-es-legacy.js","./async-validator-legacy.js","./dayjs-legacy.js","./@element-plus-legacy.js","./@popperjs-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vanilla-jsoneditor-legacy.js","./json-source-map-legacy.js","./@jsonquerylang-legacy.js","./@fortawesome-legacy.js","./natural-compare-lite-legacy.js","./@codemirror-legacy.js","./@lezer-legacy.js","./crelt-legacy.js","./style-mod-legacy.js","./w3c-keyname-legacy.js","./@replit-legacy.js","./codemirror-wrapped-line-indent-legacy.js","./fast-deep-equal-legacy.js","./fast-uri-legacy.js","./jmespath-legacy.js","./jsonpath-plus-legacy.js","./immutable-json-patch-legacy.js","./jsonrepair-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduocss-legacy.js"],(function(l,e){"use strict";var a,u,t,o,n,s,d,r,c,i,m,p,y,g,V,j,f,v,b,_,h,w,U,x,k,z,C,S,T,E,q,B,D,I,K,O,R,A;return{setters:[l=>{a=l.m,u=l.n,t=l.x,o=l.t,n=l.s,s=l.I,d=l.J,r=l.H,c=l.R,i=l.f,m=l.r,p=l.E},l=>{y=l.r,g=l.I,V=l.j,j=l.o,f=l.c,v=l.a,b=l.M,_=l.Q,h=l._,w=l.O,U=l.a8,x=l.R,k=l.u,z=l.U,C=l.$,S=l.V},l=>{T=l.a,E=l.u},l=>{q=l.v},l=>{B=l.f,D=l.c},l=>{I=l.a,K=l.t,O=l.s},l=>{R=l.l},l=>{A=l.p},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const e={class:"bg-fff radius-6 pd-20"},Z={class:"mr-10 ml-10"},$={class:"mr-10 ml-10 mb-20"};l("default",{__name:"add",setup(l){T();const H=E(),J=y(null),M=y([]),Q=y(""),F={checkStrictly:!0},G=y("first"),L=y(0),N=y([]),P=y([]),W=y([]),X=g({pid:0,seoTitle:"",seoKeywords:"",seoDescription:"",name:"",path:"",pinyin:"",mid:0,description:"",url:"",orderBy:0,type:0,target:0,status:0,articleView:"article.html",listView:"list.html"}),Y=l=>{X.pinyin=A(l,{toneType:"none"}).replace(/\s+/g,""),X.path=Q.value?Q.value+X.pinyin:"/"+Q.value+X.pinyin},ll=l=>{X.path=Q.value?Q.value+l:"/"+Q.value+l},el=l=>{L.value=parseInt(l.index)},al=l=>{let e=[];Object.values(l).forEach((l=>{N.value.forEach((a=>{a.id===l&&e.push("/"+a.pinyin)}))})),Q.value=e.join("")+"/",X.path=Q.value+X.pinyin,-1!==l[0]&&(X.pid=l[l.length-1])},ul=l=>{l.validate(((l,e)=>{l?("article"===X.pinyin?(p({message:"不能使用article作为拼音",type:"error"}),0):/^[a-zA-Z][a-zA-Z0-9]*$/.test(X.pinyin)||(p({message:"拼音只能包含26个字母和数字，且首字母不能是数字",type:"error"}),0))&&(async()=>{try{const l=await D(X);200===l.code?(p({message:"更新成功^_^",type:"success"}),H.go(-1)):p({message:l.msg,type:"error"})}catch(l){console.log(l)}})():O(e)}))};return V((()=>{(async()=>{try{const l=await B();if(200===l.code){const e=I(K(l.data));N.value=e}}catch(l){console.log(l)}})(),(async()=>{try{const l=await q();200===l.code&&(W.value=l.data.filter((l=>!["404.html","500.html"].includes(l))).map((l=>({label:l,value:l}))))}catch(l){console.log(l)}})(),(async()=>{try{const l=await R();200===l.code&&(P.value=l.data.list)}catch(l){console.log(l)}})()})),(l,p)=>{const y=a,g=u,V=t,T=o,E=n,B=s,D=d,I=r,K=c,O=i,R=m;return j(),f("div",e,[v("div",Z,[b(g,{modelValue:G.value,"onUpdate:modelValue":p[0]||(p[0]=l=>G.value=l),onTabClick:el},{default:_((()=>[b(y,{label:"基本信息",name:"first"}),b(y,{label:"SEO设置",name:"second"}),b(y,{label:"扩展信息",name:"third"})])),_:1},8,["modelValue"])]),v("div",$,[b(R,{ref_key:"paramsRef",ref:J,model:X,"label-width":"84px"},{default:_((()=>[h(v("div",null,[b(T,{label:"上级栏目"},{default:_((()=>[b(V,{props:F,"show-all-levels":!1,modelValue:M.value,"onUpdate:modelValue":p[1]||(p[1]=l=>M.value=l),options:N.value,onChange:al,placeholder:"不选择为顶级栏目"},null,8,["modelValue","options"])])),_:1}),b(T,{label:"栏目名称",prop:"name",rules:[{required:!0,message:"请输入栏目名称",trigger:"blur"},{min:1,max:50,message:"栏目不能超过50个字",trigger:"blur"}]},{default:_((()=>[b(E,{modelValue:X.name,"onUpdate:modelValue":p[2]||(p[2]=l=>X.name=l),onChange:Y},null,8,["modelValue"])])),_:1}),b(T,{label:"栏目标识"},{default:_((()=>[b(E,{modelValue:X.pinyin,"onUpdate:modelValue":p[3]||(p[3]=l=>X.pinyin=l),onChange:ll,placeholder:"注：首页请填写home"},null,8,["modelValue"])])),_:1}),b(T,{label:"栏目路径"},{default:_((()=>[b(E,{modelValue:X.path,"onUpdate:modelValue":p[4]||(p[4]=l=>X.path=l),disabled:""},null,8,["modelValue"])])),_:1}),b(T,{label:"列表模板"},{default:_((()=>[b(D,{modelValue:X.listView,"onUpdate:modelValue":p[5]||(p[5]=l=>X.listView=l),placeholder:"Select"},{default:_((()=>[(j(!0),f(w,null,U(W.value,(l=>(j(),x(B,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(T,{label:"内容模板"},{default:_((()=>[b(D,{modelValue:X.articleView,"onUpdate:modelValue":p[6]||(p[6]=l=>X.articleView=l),placeholder:"Select"},{default:_((()=>[(j(!0),f(w,null,U(k(q),(l=>(j(),x(B,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(T,{label:"栏目类型"},{default:_((()=>[b(I,{modelValue:X.type,"onUpdate:modelValue":p[7]||(p[7]=l=>X.type=l),label:0},{default:_((()=>p[21]||(p[21]=[z("栏目")]))),_:1},8,["modelValue"]),b(I,{modelValue:X.type,"onUpdate:modelValue":p[8]||(p[8]=l=>X.type=l),label:1},{default:_((()=>p[22]||(p[22]=[z("单页")]))),_:1},8,["modelValue"])])),_:1}),b(T,{label:"是否显示"},{default:_((()=>[b(I,{modelValue:X.status,"onUpdate:modelValue":p[9]||(p[9]=l=>X.status=l),label:0},{default:_((()=>p[23]||(p[23]=[z("显示")]))),_:1},8,["modelValue"]),b(I,{modelValue:X.status,"onUpdate:modelValue":p[10]||(p[10]=l=>X.status=l),label:1},{default:_((()=>p[24]||(p[24]=[z("隐藏")]))),_:1},8,["modelValue"])])),_:1})],512),[[C,0===L.value]]),h(v("div",null,[b(T,{label:"seo标题"},{default:_((()=>[b(E,{modelValue:X.seoTitle,"onUpdate:modelValue":p[11]||(p[11]=l=>X.seoTitle=l)},null,8,["modelValue"])])),_:1}),b(T,{label:"seo关键词"},{default:_((()=>[b(E,{modelValue:X.seoKeywords,"onUpdate:modelValue":p[12]||(p[12]=l=>X.seoKeywords=l)},null,8,["modelValue"])])),_:1}),b(T,{label:"seo描述"},{default:_((()=>[b(E,{type:"textarea",prop:"textarea",rows:2,modelValue:X.seoDescription,"onUpdate:modelValue":p[13]||(p[13]=l=>X.seoDescription=l)},null,8,["modelValue"])])),_:1})],512),[[C,1===L.value]]),h(v("div",null,[b(T,{label:"栏目链接"},{default:_((()=>[b(E,{modelValue:X.url,"onUpdate:modelValue":p[14]||(p[14]=l=>X.url=l)},null,8,["modelValue"])])),_:1}),b(T,{label:"扩展模型"},{default:_((()=>[b(K,{modelValue:X.mid,"onUpdate:modelValue":p[15]||(p[15]=l=>X.mid=l)},{default:_((()=>[b(I,{label:0},{default:_((()=>p[25]||(p[25]=[z("基本模型")]))),_:1}),(j(!0),f(w,null,U(P.value,((l,e)=>(j(),x(I,{key:e,label:l.id},{default:_((()=>[z(S(l.model),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),b(T,{label:"打开方式"},{default:_((()=>[b(I,{modelValue:X.target,"onUpdate:modelValue":p[16]||(p[16]=l=>X.target=l),label:0},{default:_((()=>p[26]||(p[26]=[z("当前页面")]))),_:1},8,["modelValue"]),b(I,{modelValue:X.target,"onUpdate:modelValue":p[17]||(p[17]=l=>X.target=l),label:1},{default:_((()=>p[27]||(p[27]=[z("新页面")]))),_:1},8,["modelValue"])])),_:1}),b(T,{label:"栏目排序"},{default:_((()=>[b(E,{modelValue:X.orderBy,"onUpdate:modelValue":p[18]||(p[18]=l=>X.orderBy=l)},null,8,["modelValue"])])),_:1}),b(T,{label:"栏目描述"},{default:_((()=>[b(E,{type:"textarea",prop:"textarea",rows:2,modelValue:X.description,"onUpdate:modelValue":p[19]||(p[19]=l=>X.description=l)},null,8,["modelValue"])])),_:1})],512),[[C,2===L.value]]),b(T,null,{default:_((()=>[b(O,{type:"primary",onClick:p[20]||(p[20]=l=>ul(J.value))},{default:_((()=>p[28]||(p[28]=[z("保存")]))),_:1})])),_:1})])),_:1},8,["model"])])])}}})}}}));
