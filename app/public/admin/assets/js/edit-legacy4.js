System.register(["./element-plus-legacy.js","./vue-router-legacy.js","./field-legacy.js","./model-legacy.js","./index-legacy.js","./@vue-legacy.js","./lodash-es-legacy.js","./async-validator-legacy.js","./dayjs-legacy.js","./@element-plus-legacy.js","./@popperjs-legacy.js","./@ctrl-legacy.js","./memoize-one-legacy.js","./normalize-wheel-es-legacy.js","./pinia-legacy.js","./pinia-plugin-persist-legacy.js","./vanilla-jsoneditor-legacy.js","./json-source-map-legacy.js","./@jsonquerylang-legacy.js","./@fortawesome-legacy.js","./natural-compare-lite-legacy.js","./@codemirror-legacy.js","./@lezer-legacy.js","./crelt-legacy.js","./style-mod-legacy.js","./w3c-keyname-legacy.js","./@replit-legacy.js","./codemirror-wrapped-line-indent-legacy.js","./fast-deep-equal-legacy.js","./fast-uri-legacy.js","./jmespath-legacy.js","./jsonpath-plus-legacy.js","./immutable-json-patch-legacy.js","./jsonrepair-legacy.js","./axios-legacy.js","./js-cookie-legacy.js","./nprogress-legacy.js","./saduocss-legacy.js"],(function(l,e){"use strict";var a,u,s,n,t,o,c,d,r,m,y,g,i,p,j,b,f,v,V,h,_,w,U,k;return{setters:[l=>{a=l.E,u=l.s,s=l.t,n=l.I,t=l.J,o=l.f,c=l.r},l=>{d=l.a,r=l.u},l=>{m=l.d,y=l.u},l=>{g=l.h},l=>{i=l._},l=>{p=l.r,j=l.I,b=l.j,f=l.o,v=l.c,V=l.M,h=l.Q,_=l.O,w=l.a8,U=l.a,k=l.U},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var e=document.createElement("style");e.textContent="/*$vite$:1*/",document.head.appendChild(e);const q={class:"bg-fff pd-20 radius-6"};l("default",i({__name:"edit",setup(l){const e=p(null),i=j({id:"",mid:"",tableName:"",cname:"",ename:"",type:"",val:"",defaultVal:"",length:"",orderBy:"0"}),x=[{value:"1",label:"单行文本"},{value:"2",label:"多行文本 "},{value:"3",label:"下拉菜单"},{value:"4",label:"单选"},{value:"5",label:"多选 "},{value:"6",label:"时间和日期 "},{value:"7",label:"数字 "},{value:"8",label:"多图上传 "},{value:"9",label:"富文本 "}],N=[{required:!0,message:"请输入中文名称",trigger:"blur"}],z=[{required:!0,message:"请输入英文名称",trigger:"blur"}],B=[{required:!0,message:"请选择类型",trigger:"blur"}],C=d(),I=r();b((async()=>{const{fid:l,mid:e,tableName:a}=C.query;i.id=l,i.mid=e,i.tableName=a,await E()}));const E=async()=>{try{const l=await m(i.id);200===l.code&&(Object.assign(i,l.data,{old_ename:l.data.ename}),F(i.mid))}catch(l){console.error(l)}},F=async l=>{try{const e=await g(l);e?.data?.has?.length>0?console.log("Field is used"):console.log("Field is not used")}catch(e){console.log(e)}},O=()=>{e.value.validate((async l=>{if(!l)return console.log("error submit!!"),!1;await $()}))},$=async()=>{try{const l=await y(i);200===l.code?a({message:"更新成功^_^",type:"success"}):a({message:l.msg,type:"error"}),I.go(-1)}catch(l){console.log(l)}};return(l,a)=>{const d=u,r=s,m=n,y=t,g=o,p=c;return f(),v("div",q,[V(p,{ref_key:"formRef",ref:e,model:i,"label-width":"100px",class:"mt-20"},{default:h((()=>[V(r,{label:"中文名称",prop:"cname",rules:N},{default:h((()=>[V(d,{modelValue:i.cname,"onUpdate:modelValue":a[0]||(a[0]=l=>i.cname=l),placeholder:"请输入字段中文名称"},null,8,["modelValue"])])),_:1}),V(r,{label:"字段名称",prop:"ename",rules:z},{default:h((()=>[V(d,{modelValue:i.ename,"onUpdate:modelValue":a[1]||(a[1]=l=>i.ename=l),placeholder:"请输入英文小驼峰方式，例：bookName"},null,8,["modelValue"])])),_:1}),V(r,{label:"字段类型",rules:B},{default:h((()=>[V(y,{modelValue:i.type,"onUpdate:modelValue":a[2]||(a[2]=l=>i.type=l),placeholder:"请选择"},{default:h((()=>[(f(),v(_,null,w(x,(l=>V(m,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),V(r,{label:"字段选项"},{default:h((()=>[V(d,{modelValue:i.defaultVal,"onUpdate:modelValue":a[3]||(a[3]=l=>i.defaultVal=l),rows:2,type:"textarea",placeholder:"单选、多选、下拉框，请填写json格式。"},null,8,["modelValue"]),a[7]||(a[7]=U("p",{class:"f-12 c-999"},'例如：{"options":[{"label":"本地下载","value":"1"},{"label":"电信下载","value":"2"}]}',-1))])),_:1}),V(r,{label:"默认值"},{default:h((()=>[V(d,{modelValue:i.val,"onUpdate:modelValue":a[4]||(a[4]=l=>i.val=l)},null,8,["modelValue"])])),_:1}),V(r,{label:"排序"},{default:h((()=>[V(d,{modelValue:i.orderBy,"onUpdate:modelValue":a[5]||(a[5]=l=>i.orderBy=l)},null,8,["modelValue"])])),_:1}),V(r,{label:"字段长度"},{default:h((()=>[V(d,{modelValue:i.length,"onUpdate:modelValue":a[6]||(a[6]=l=>i.length=l)},null,8,["modelValue"])])),_:1}),V(r,null,{default:h((()=>[V(g,{type:"primary",onClick:O},{default:h((()=>a[8]||(a[8]=[k("保存")]))),_:1})])),_:1})])),_:1},8,["model"])])}}},[["__scopeId","data-v-692047c4"]]))}}}));
